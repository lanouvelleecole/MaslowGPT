/* PLOP INJECT_IMPORT */
//import React from "react";

/* PLOP_INJECT_CODE */

/**
 * L'instance du singleton TestWork2Singleton.
 */
let instance;

/**
 * le state actuel du TestWork2Singleton.
 */
let state = {
  // les annuleurs de requêtes HTTP
  requestCancellers: {},
};

/**
 * Le all mighty TestWork2Singleton, qui nous permet un accès CRUD du ghetto.
 */
class TestWork2Singleton {
  /**
   * Le constructeur
   * qui ne construira qu'un seul objet,
   * stocké dans instance.
   */
  constructor() {
    if (instance) {
      throw new Error("New instance of TestWork2Singleton cannot be created.");
    }

    instance = this;
  }

  /**
   * Ceci permet d'obtenir des données de cancel
   */
  GetCanceller(cancellerName) {
    return state.requestCancellers[cancellerName];
  }

  /**
   * Ceci permet de stocker des données de cancel
   * dans le TestWork2Singleton
   */
  AddCanceller(cancellerName, cancellerValue) {
    state.requestCancellers[cancellerName] = cancellerValue;
  }
}

let TestWork2SingletonInstance = Object.freeze(new TestWork2Singleton());

export { TestWork2SingletonInstance };
