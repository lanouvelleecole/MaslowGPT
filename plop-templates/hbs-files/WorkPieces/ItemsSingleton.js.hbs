/* PLOP INJECT_IMPORT */
//import React from "react";

/* PLOP_INJECT_CODE */

/**
 * L'instance du singleton TestJobSingleton.
 */
let instance;

/**
 * le state actuel du TestJobSingleton.
 */
let state = {
  // les annuleurs de requêtes HTTP
  requestCancellers: {},
};

/**
 * Le all mighty TestJobSingleton, qui nous permet un accès CRUD du ghetto.
 */
class TestJobSingleton {
  /**
   * Le constructeur
   * qui ne construira qu'un seul objet,
   * stocké dans instance.
   */
  constructor() {
    if (instance) {
      throw new Error("New instance of TestJobSingleton cannot be created.");
    }

    instance = this;
  }

  /**
   * Ceci permet d'obtenir des données de cancel
   */
  GetCanceller(cancellerName) {
    return state.requestCancellers[cancellerName];
  }

  /**
   * Ceci permet de stocker des données de cancel
   * dans le TestJobSingleton
   */
  AddCanceller(cancellerName, cancellerValue) {
    state.requestCancellers[cancellerName] = cancellerValue;
  }
}

let TestJobSingletonInstance = Object.freeze(new TestJobSingleton());

export { TestJobSingletonInstance };
